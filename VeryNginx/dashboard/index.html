<html>
<head>
<meta charset="utf-8">
<!-- Bootstrap -->
<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" href="css/webInterface.css">
<link rel="stylesheet" href="css/bs_callout.css">
<!-- vue.js文件 -->
<script src="https://cdn.jsdelivr.net/vue/latest/vue.js"></script>
<script src="http://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="http://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="http://cdn.bootcss.com/vue/1.0.14/vue.min.js"></script>
<script src="js/control.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        control.init();
    });
</script>

</head>

<body style="padding-top:70px">

    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <a class="navbar-brand" href="#">VeryNginx</a> 
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="topnav" id="topnav_config"  class="active" >
                        <a href="#" class="init_click" onclick="control.switch_to_page('config')" >配置</a>
                    </li>
                    <li class="topnav" id="topnav_summary" >
                        <a href="#" onclick="control.switch_to_page('summary')" >访问统计</a>
                    </li>
                    <li class="topnav"id="topnav_firewall"  >
                        <a href="#" onclick="control.switch_to_page('firewall')" >防火墙</a>
                    </li>
                    <li class="topnav" id="topnav_about"  >
                        <a href="#" onclick="control.switch_to_page('about')" >关于</a>
                    </li>
                </ul>
            </div>
        </div><!-- /.container-fluid -->
    </nav>

    <div class="page" id="page_config">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-2">
                    <div style="border-right: 1px solid #eee;margin-left:auto; margin-right:auto;">
                        <div class="leftnav leftnav_1">重定向</div>
                        <div>
                            <div class="leftnav leftnav_2" group="redirect_scheme" onclick="control.switch_to_configGroup(this)">协议重定向</div>
                            <div class="leftnav leftnav_2" group="redirect_path" onclick="control.switch_to_configGroup(this)">路径重定向</div>
                        </div>
                        <div class="leftnav leftnav_1">请求过滤</div>
                        <div>
                            <div class="leftnav leftnav_2" group="filter_whithlist" onclick="control.switch_to_configGroup(this)">白名单</div>
                            <div class="leftnav leftnav_2" group="filter_ip" onclick="control.switch_to_configGroup(this)">IP过滤</div>
                            <div class="leftnav leftnav_2" group="filter_path" onclick="control.switch_to_configGroup(this)">路径过滤</div>
                            <div class="leftnav leftnav_2" group="filter_args" onclick="control.switch_to_configGroup(this)">参数过滤</div>
                            <div class="leftnav leftnav_2" group="filter_body" onclick="control.switch_to_configGroup(this)">Body过滤</div>
                        </div>
                        <div class="leftnav leftnav_1">统计</div>
                        <div>
                            <div class="leftnav leftnav_2" group="summary_summary" onclick="control.switch_to_configGroup(this)">访问统计</div>
                        </div>
                        <div class="leftnav leftnav_1">系统</div>
                        <div>
                            <div class="leftnav leftnav_2 init_click" group="system_allconfig" onclick="control.switch_to_configGroup(this)">全部配置</div>
                        </div>
                    </div>
                </div>  
                <div class="col-sm-8" id="verynginx_configs">
                    <div class="config_group" id="config_redirect_scheme">
                        <div class="config_title">
                            协议重定向
                        </div>
                        <div id="config_redirect_scheme_table">
                            <input type="checkbox" id="checkbox" v-model="scheme_redirect_enable">
                            <label>启用</label>
					        <table class="table table-bordered">
						        <thead>
								    <tr>
									    <td>#</td>
									    <td>路径</td>
									    <td>协议</td>
                                        <td></td>
									</tr>
								</thead>
								<tbody>
									<tr v-for="scheme in scheme_redirect_rule">
									    <td>{{ $index }}</td>
									    <td>{{ scheme[0] }}</td>
									    <td>{{ scheme[1] }}</td>
                                        <td><button type="button" class="btn btn-default btn-xs" onclick="control.config_mod('scheme_redirect_rule','{{$index}}',null)">DEL</button></td>
									</tr>
								</tbody>
						  </table>
						</div>
                    </div>

                    <div class="config_group" id="config_redirect_path">
                        <div class="config_title">
                            路径重定向
                        </div>
                    </div>

                    <div class="config_group" id="config_filter_whithlist">
                        <div class="config_title">
                            白名单
                        </div>
                    </div>
                    
                    <div class="config_group" id="config_filter_ip">
                        <div class="config_title">
                            IP过滤
                        </div>
                    </div>
                    
                    <div class="config_group" id="config_filter_path">
                        <div class="config_title">
                            路径过滤
                        </div>
                    </div>
                    
                    <div class="config_group" id="config_filter_args">
                        <div class="config_title">
                            参数过滤
                        </div>
                    </div>
                    
                    <div class="config_group" id="config_filter_body">
                        <div class="config_title">
                            Body过滤
                        </div>
                    </div>
                    
                    <div class="config_group" id="config_summary_summary">
                        访问统计开关
                    </div>

                    <div class="config_group" id="config_system_allconfig">
                        <div class="config_title">
                            当前全部配置
                        </div>
                        <div>
                            <pre id="config_system_all_show">

                            </pre>
                        </div>
                    </div>
                </div>
            </div>  
        </div>
    </div>

    <div class="page" id="page_summary">
        <div id="data_stat">
            <p>{{ message }}</p>
        </div>
    </div>
    <div class="page" id="page_firewall">
        防火墙
    </div>
    
    <div class="page" id="page_about">
        关于
    </div>

    <!-- Modal -->
    <div class="modal fade" id="console_modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">...</h4>
                </div>
                <div class="modal-body" id="console_div" >
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

</body>
<script src="js/data_stat.js"></script>
</html>
